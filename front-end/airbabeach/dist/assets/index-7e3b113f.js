import{j as e,a,F as q,A as ta,T as oa}from"./@mui-0a4b53b8.js";import{r as n}from"./react-86a4a8f4.js";import{L as T,c as sa}from"./react-router-dom-660672f1.js";import{S as J}from"./sweetalert2-3159bb65.js";import{c as na}from"./react-dom-28705306.js";import{a as A}from"./axios-08622986.js";import{a as X,O as Ie,N as Se,d as ia,b as la,f as Ae,R as ca,g as da}from"./react-router-e0bd292d.js";import{D as ua,P as Re,C as Oe,S as Te,a as ma,F as Be,L as Fe,T as Le,I as Ue,X as re,b as Q,M as te,W as ne,c as ie,d as le,e as ce,f as de,B as ue,g as me,h as pa,E as ha,i as ga,j as pe,k as fa,l as Na,m as va,n as Ea,o as ba}from"./phosphor-react-14e617ff.js";import{k as Sa,Q as P}from"./react-toastify-a2f5ac4f.js";import"./leaflet-f53ba04e.js";import"./leaflet-fullscreen-558321b1.js";import{L as he}from"./litepicker-d52822f5.js";import{P as ya}from"./react-bootstrap-pagination-control-4136ef80.js";import{R as Ca}from"./react-loader-spinner-ca06c0f4.js";import{S as ye,f as Ce,N as we,A as wa,P as xa,M as Pa,K as ka,Z as Da,E as za,T as xe,a as Pe}from"./swiper-9a566d46.js";import{M as Ma,T as Ia,a as Aa,b as Ra,C as Oa}from"./react-leaflet-3eb5a71c.js";import{F as Ta,a as Ba,b as Fa,c as La,L as Ua,d as $a,T as Wa,e as Ha,f as qa,g as _a,W as Ka,h as Va}from"./react-share-000ec6c0.js";import{a as ja,u as Ja,b as Ya,S as Qa,r as Xa,c as Za,d as oe,D as Ga,e as er,s as ar,K as rr,T as tr,M as or}from"./@dnd-kit-44ccf1af.js";import{e as se}from"./@remix-run-cc96569a.js";import"./@babel-5d790daf.js";import"./clsx-1229b3e0.js";import"./react-transition-group-bbdd8500.js";import"./@emotion-5158afff.js";import"./hoist-non-react-statics-dd442a32.js";import"./stylis-581c9ed0.js";import"./@popperjs-0e7ee0a2.js";import"./scheduler-04ce0582.js";import"./react-bootstrap-0c61f10b.js";import"./dom-helpers-4ed993c7.js";import"./classnames-74f03c09.js";import"./prop-types-extra-4ed993c7.js";import"./@restart-3de23c0a.js";import"./styled-components-4053b221.js";import"./react-is-147ad7aa.js";import"./styled-tools-bf41095e.js";import"./ssr-window-c9202916.js";import"./@react-leaflet-08f4ea41.js";import"./jsonp-4ed993c7.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))u(c);new MutationObserver(c=>{for(const E of c)if(E.type==="childList")for(const i of E.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&u(i)}).observe(document,{childList:!0,subtree:!0});function p(c){const E={};return c.integrity&&(E.integrity=c.integrity),c.referrerpolicy&&(E.referrerPolicy=c.referrerpolicy),c.crossorigin==="use-credentials"?E.credentials="include":c.crossorigin==="anonymous"?E.credentials="omit":E.credentials="same-origin",E}function u(c){if(c.ep)return;c.ep=!0;const E=p(c);fetch(c.href,E)}})();const $e=n.createContext();function sr(r){const[s,p]=n.useState(""),[u,c]=n.useState(!1),[E,i]=n.useState(window.location.pathname),[t,N]=n.useState("http://18.117.145.11:8080"),v=localStorage.getItem("auth"),b=JSON.parse(localStorage.getItem("user")),[d,h]=n.useState(v===null?"":v),[m,w]=n.useState(b===null?"":b);function l(C){C!==d&&(h(C),localStorage.setItem("auth",C))}function S(){localStorage.removeItem("auth")}function k(C){C!==m&&(w(C),localStorage.setItem("user",JSON.stringify(C)))}function g(){w(""),h(""),localStorage.removeItem("user"),localStorage.removeItem("auth")}function f(){A.get(`${t}/produtos`).then(C=>{p(C.data)},C=>{if(C.code==="ERR_NETWORK")return toast.error("Ocorreu um erro, por favor recarregue a página.")})}A.interceptors.request.use(function(C){return c(!0),C},function(C){return Promise.reject(C)}),A.interceptors.response.use(function(C){return c(!1),C},function(C){return Promise.reject(C)});function o(C){c(!0),setTimeout(()=>{c(!1)},C)}return e($e.Provider,{value:{auth:d,saveToken:l,deleteToken:S,user:m,userLogout:g,saveUser:k,urlPath:E,setUrlPath:i,urlBase:t,loading:u,loadingWait:o,initialProducts:f,homeProducts:s},children:r.children})}function $(){return n.useContext($e)}function nr(){const{auth:r,user:s,userLogout:p,urlPath:u,setUrlPath:c,initialProducts:E}=$(),i=X(),[t,N]=n.useState(!1),v=n.useRef(null),[b,d]=n.useState(window.innerWidth);n.useEffect(()=>{const l=()=>{d(window.innerWidth)};return window.addEventListener("resize",l),()=>{window.removeEventListener("resize",l)}}),n.useEffect(()=>{const l=v.current;if(b<414)l.style.opacity=0,l.style.animationDuration="0.5s",l.style.transitionTimingFunction="ease-in",l.style.animationFillMode="both",l.style.animationName="fadeOut",setTimeout(()=>{l.style.display="none"},500),l.addEventListener("transitionend",function S(){l.removeEventListener("transitionend",S)},1),N(!1);else return},[b]);function h(){J.fire({title:"Deseja realmente sair?",width:"360",color:"#545776",icon:"question",focusCancel:!0,showCancelButton:!0,confirmButtonText:"Sim",cancelButtonText:"Não",reverseButtons:!0}).then(l=>{if(l.isConfirmed)p(),i("/home"),c(window.location.pathname);else return})}function m(l){l==="login"&&(i("/login"),c(window.location.pathname)),l==="createUser"&&(i("/createUser"),c(window.location.pathname)),l==="home"&&(E(),i("/home"),c(window.location.pathname))}n.useEffect(()=>{const l=v.current;t?(l.style.opacity=1,l.style.display="block",l.style.pointerEvents="all",l.style.transitionDelay="0s",l.style.animationDuration="0.5s",l.style.transitionTimingFunction="ease-in",l.style.animationFillMode="both",l.style.animationName="fadeIn"):setTimeout(()=>{l.style.opacity=0,l.style.animationDuration="0.5s",l.style.transitionTimingFunction="ease-in",l.style.animationFillMode="both",l.style.animationName="fadeOut",setTimeout(()=>{l.style.display="none"},500),l.addEventListener("transitionend",function S(){l.removeEventListener("transitionend",S)},1)})},[t]);function w(){const l=v.current,S=document.getElementById("novaDivIcon"),k="";S.setAttribute("class",`btnMenuHeader icon ${k}`),S.setAttribute("aria-expanded",`${t}`),N(!t),l.addEventListener("transitionend",function g(){t||l.removeEventListener("transitionend",g)})}return a("section",{className:"headerFull",children:[a("section",{className:"logoSection",children:[e("div",{onClick:()=>m("home"),className:"logoImg"}),e("h2",{className:"logoTagline",children:"Sinta-se em casa"})]}),a("div",{className:"asideHolder",type:u,children:[r&&s!==""&&a("div",{className:"loggedIn",children:[a("p",{className:"profilePicture",children:[s.nome[0],s.sobrenome[0]]}),a("div",{className:"greetingAndName",children:[e("p",{className:"",children:"Olá,"}),a("p",{className:"greetingAndNameGreen",children:[s.nome," ",s.sobrenome]})]}),e(ua,{id:"novaDivIcon",size:36,onClick:w,color:"var(--coral-light)",className:"btnMenuHeader",weight:"fill"})]}),!r&&a("div",{className:"btnContainer",children:[u!=="/createUser"&&e("button",{className:"btnHeader",onClick:()=>m("createUser"),children:"Criar conta"}),u!=="/login"&&e("button",{className:"btnHeader",onClick:()=>m("login"),children:"Iniciar sessão"})]})]}),e("div",{ref:v,className:"nova-div",children:a("div",{className:"linksMenuHeaderHolder",children:[a(T,{to:"/administrador",className:"text-normal estiloIcone",onClick:w,children:[e(Re,{size:32,color:"white"})," Cadastrar local"]}),a(T,{to:"/reservas",className:"text-normal estiloIcone",onClick:w,children:[" ",e(Oe,{size:32,color:"white"})," Ver reservas"]}),a(T,{onClick:()=>{h(),w()},className:"text-normal estiloIcone",children:[e(Te,{size:32,color:"white"})," Sair"]}),a(T,{className:"text-normal estiloIcone",onClick:w,children:[" ",e(ma,{size:32,color:"white"})," Fechar menu"]})]})})]})}function ir(){let r=new Date().getFullYear();return a("footer",{className:"footer",children:[a("h4",{className:"footerParagraph",children:["©",r," AirBnBeach, inc "]}),a("div",{className:"socialMidia",children:[e("a",{href:"#",children:e(Be,{size:28,weight:"fill"})}),e("a",{href:"#",children:e(Fe,{size:25,weight:"bold"})}),e("a",{href:"#",children:e(Le,{size:24,weight:"fill"})}),e("a",{href:"#",children:e(Ue,{size:25})})]})]})}function lr(){const{user:r,auth:s,userLogout:p,urlPath:u,setUrlPath:c}=$(),E=X(),[i,t]=n.useState(!1),[N,v]=n.useState("");n.useEffect(()=>{c(window.location.pathname)},[u]);function b(){i?(t(!1),v("none")):(t(!0),v("active")),setTimeout(()=>{c("")},1)}function d(){J.fire({title:"Deseja realmente sair?",width:"360",color:"#545776",icon:"question",focusCancel:!0,showCancelButton:!0,confirmButtonText:"Sim",cancelButtonText:"Não",reverseButtons:!0}).then(h=>{if(h.isConfirmed)p(),E("/home"),b();else return})}return a("section",{className:"sideSection",children:[a("div",{className:`hamburger ${i?"active":""}`,onClick:b,children:[e("div",{className:"line"}),e("div",{className:"line"}),e("div",{className:"line"})]}),e("aside",{className:`sidebar ${N}`,children:a("nav",{className:"sidebarNav1",children:[e(re,{size:32,onClick:b,color:"white",weight:"bold",className:"btnFechar"}),s&&r&&a("div",{className:"loggedIn",children:[a("p",{className:"profilePicture",children:[r.nome[0],r.sobrenome[0]]}),a("div",{className:"greetingAndName",children:[e("p",{className:"greeting",children:"Olá,"}),a("p",{className:"greetingAndNameCoral",children:[r.nome," ",r.sobrenome]})]}),a("div",{className:"linksMenuHeaderHolder",children:[e("div",{className:"itensMenuHeader",children:a(T,{to:"/administrador",className:"text-normal itensMenuHeader",onClick:b,children:["Cadastrar local ",e(Re,{size:32,color:"var(--grey-darkest)"})]})}),e("div",{className:"itensMenuHeader",children:a(T,{to:"/reservas",className:"text-normal itensMenuHeader",onClick:b,children:["Ver reservas ",e(Oe,{size:32,color:"var(--grey-darkest)"})]})}),e("div",{className:"itensMenuHeader",onClick:d,children:a(T,{className:"text-normal itensMenuHeader",onClick:b,children:["Sair ",e(Te,{size:32,color:"var(--grey-darkest)"})]})})]})]}),!s&&a("div",{className:"loggedOut",children:[e("h2",{type:u,className:"h2Menu",children:"MENU"}),a("ul",{className:"menu",children:[u!=="/createUser"&&e("li",{className:"menu-item",children:e(T,{to:"/createUser",className:"menu-link",onClick:b,children:"Criar conta"})}),u!=="/createUser"&&u!=="/login"&&e("hr",{className:"hrStyle1"}),u!=="/login"&&e("li",{className:"menu-item",children:e(T,{to:"/login",className:"menu-link",onClick:b,children:"Fazer login"})})]})]}),a("div",{className:"socialMidia",children:[s&&e("hr",{className:"hrStyle2"}),e("a",{href:"#",className:"socialMediaIcon",children:e(Be,{size:28,weight:"fill"})}),e("a",{href:"#",className:"socialMediaIcon",children:e(Fe,{size:25,weight:"bold"})}),e("a",{href:"#",className:"socialMediaIcon",children:e(Le,{size:24,weight:"fill"})}),e("a",{href:"#",className:"socialMediaIcon",children:e(Ue,{size:25})})]})]})})]})}function cr(){return a(q,{children:[e(nr,{}),e(lr,{}),e("main",{className:"main",children:e(Ie,{})}),e(Sa,{position:"top-center",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),e(ir,{})]})}function ke(r){return new Intl.NumberFormat().format(r)}function We(r){if(r<=2.5)return"Ruim";if(r>2.5&&r<=5)return"Regular";if(r>5&&r<=7.5)return"Bom";if(r>7.5)return"Muito bom";if(r===void 0)return"Não avaliado"}const He="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",qe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";function dr({location:r,downtown:s,address:p}){return setTimeout(()=>{var u=new L.map("map",{}).setView(r,13);L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(u);const c=L.Icon.extend({options:{shadowUrl:qe,iconSize:[30,50],shadowSize:[50,64],iconAnchor:[19,74],shadowAnchor:[20,97],popupAnchor:[-3,-76]}}),E=new c({iconUrl:He});L.marker(r,{icon:E}).addTo(u).bindPopup(p).openPopup();var i=L.circle(s,{color:"red",fillColor:"#f03",fillOpacity:.5,radius:2e3}).addTo(u);i.bindPopup("Centro"),u.addControl(new L.Control.Fullscreen)},10),e(q,{children:r!=="[undefined, undefined]"&&s!=="[undefined, undefined]"?e("div",{id:"map",className:"mapStyle"}):e("p",{children:"Ocorreu um erro com mapa da propriedade, por favor entre em contato com o suporte"})})}function ge({rate:r}){return a("div",{style:{display:"flex",gap:"0.25rem"},children:[r>=1?e(Q,{size:14,color:"#1DBEB4",weight:"fill"}):null,r>2?e(Q,{size:14,color:"#1DBEB4",weight:"fill"}):null,r>=3?e(Q,{size:14,color:"#1DBEB4",weight:"fill"}):null,r>=4?e(Q,{size:14,color:"#1DBEB4",weight:"fill"}):null,r==5?e(Q,{size:14,color:"#1DBEB4",weight:"fill"}):null]})}function De({id:r,type:s,category:p,quantity:u,img:c,favorite:E,stars:i,title:t,grade:N,location:v,differential:b,description:d,filteredData:h}){const{loadingWait:m}=$(),[w,l]=n.useState(!1),[S,k]=n.useState("");return n.useEffect(()=>{b&&k(b.map(g=>g.nome))},[b]),a(q,{children:[s==="category"&&a("div",{type:"category",className:"cardBodyStyle",onClick:()=>{h(r),m(400)},children:[e("section",{className:"thumbStyle",children:e("img",{className:"imgStyle",src:c})}),a("section",{className:"textSection",children:[e("h2",{children:p}),a("p",{children:[ke(u)," ",p]})]})]}),s==="recomendations"&&a("div",{type:"recomendations",className:"cardBodyStyle",children:[w&&a("div",{className:"mapModalContainer",children:[e("div",{className:"controle",onClick:()=>l(!1)}),e(dr,{location:JSON.parse(v.coordenadas!=="[undefined, undefined]"?v.coordenadas:v.centro),downtown:JSON.parse(v.centro),address:v.endereco}),e(re,{size:32,className:"closeIcon",color:"#ffffff",weight:"bold",onClick:()=>l(!1)})]}),e("section",{className:"thumbStyle",children:e("img",{className:"imgStyle",src:c[0].url})}),a("section",{className:"detailsStyle",children:[a("section",{className:"section1",children:[a("div",{className:"titleStyle",children:[a("div",{className:"starsStyle",children:[e("h4",{}),e(ge,{rate:i})]}),e("h1",{className:"title",children:t})]}),a("div",{className:"gradesStyle",children:[e("div",{className:"grade",children:N.toFixed(1)}),e("p",{className:"text-small gradeText",children:We(N)})]})]}),a("section",{className:"section2",children:[a("div",{className:"locationContainer",children:[e(te,{size:20,color:"#545776",weight:"fill"}),a("p",{className:"locationText text-normal",children:["À ",ke(v.distancia),"m do centro - "]}),e("a",{className:"googleMapsImg",onClick:()=>l(!0)})]}),a("div",{className:"diferentialsStyle",children:[S.includes("Wi-Fi")&&e(ne,{size:20,color:"#383b58"}),S.includes("Piscina")&&e("p",{className:"poolIcon"}),S.includes("Pets")&&e(ie,{size:20,color:"#383b58",weight:"fill"}),S.includes("TV")&&e(le,{size:20,color:"#383b58"}),S.includes("Cozinha")&&e(ce,{size:20,color:"#383b58"}),S.includes("Estacionamento")&&e(de,{size:20,color:"#383b58"}),S.includes("Jacuzzi")&&e(ue,{size:20,color:"#383b58"}),S.includes("Ar-condicionado")&&e(me,{size:20,color:"#383b58"})]})]}),e("section",{className:"section3 text-normal",children:e("p",{className:"textStyle",children:d.texto})}),e(T,{to:`/product/${r}`,children:e("button",{className:"btn",children:"Ver mais"})})]})]})]})}function ur({filteredData:r}){const{auth:s,urlBase:p}=$(),[u,c]=n.useState(""),[E,i]=n.useState(""),t=n.useRef(null),[N,v]=n.useState(!1),[b,d]=n.useState(window.innerWidth),[h,m]=n.useState([]);function w(){N&&t.current.destroy(),t.current=new he({element:document.getElementById("datepicker"),numberOfMonths:b<641?1:2,numberOfColumns:b<641?1:2,selectForward:!0,singleMode:!1,lang:"pt-BR",format:"DD MMM",autoApply:!1,autoClose:!0,tooltipText:{one:"dia",other:"dias"},buttonText:{apply:"Aplicar",cancel:"Cancelar"},minDate:new Date,setup:g=>{g.on("render",f=>{v(!0)})}})}n.useEffect(()=>{const g=()=>{d(window.innerWidth)};return window.addEventListener("resize",g),()=>{window.removeEventListener("resize",g)}}),n.useEffect(()=>{setTimeout(()=>{b<640?(t.current.setOptions({numberOfColumns:1}),t.current.setOptions({numberOfMonths:1})):(t.current.setOptions({numberOfColumns:2}),t.current.setOptions({numberOfMonths:2}))},50)},[b]),n.useEffect(()=>{w(),A.get(`${p}/cidades`).then(g=>{let f=[];g.data.forEach(o=>{if(o.nome!==null&&!f.includes(o.nome))f.push(o.nome);else return}),m(f)},g=>{console.log(g.code)})},[]);function l(){c(""),i(""),t.current.clearSelection(),t.current.destroy(),w()}function S(){let g=t.current.options.startDate==null,f=t.current.options.endDate==null;return(u==null||u.length<1)&&(g||f)?(P.error("Selecione uma data ou uma cidade"),!1):!0}function k(g){if(g.preventDefault(),!S())return;let f=t.current.options.startDate!==null?t.current.options.startDate.dateInstance.toISOString().slice(0,10):"",o=t.current.options.endDate!==null?t.current.options.endDate.dateInstance.toISOString().slice(0,10):"",C;u!==void 0&u!==null&&u.length>1&&f!==""&&o!==""?C=`/search?dataInicial=${f}&dataFinal=${o}&cidade=${u}`:f!==""&&o!==""?C=`/datasDisponiveis?dataInicial=${f}&dataFinal=${o}`:u!=null&&u.length>1&&(C=`/cidade?nomeCidade=${u}`),A.get(`${p}/produtos${C}`).then(x=>{r(x.data),P.success("Próximo destino econtrado!")},x=>{if(x.response.status==401)return P.error("Nenhuma acomodação encontrada para essa cidade");if(x.response.status==403)return P.error("Recarregue a página e tente novamente.");if(x.response.status==404)return P.error("Erro ao preencher o formuário. Recarregue a página e tente novamente.");if(x.code==="ERR_NETWORK")return P.error("Verifique a sua conexão com a internet.")}),l()}return a("section",{className:"searchBarStyle",children:[e("h1",{className:"searchTitle",children:"Buscar ofertas em hotéis, casas e muito mais"}),a("form",{onSubmit:k,className:"formStyle",children:[a("div",{className:"citySection",children:[e("label",{htmlFor:"city",children:e(te,{size:20,color:"#54577689",weight:"fill",className:"mapIcon"})}),h&&e(ta,{className:"inputSearchStyle",value:u,onChange:(g,f)=>{c(f)},disablePortal:!0,isOptionEqualToValue:(g,f)=>g.value===f.value,id:"controllable-states-demo",options:h,color:"red",renderInput:g=>e(oa,{...g,placeholder:"Onde vamos?"})})]}),a("section",{className:"datepickerSection",children:[e("label",{htmlFor:"date",className:"datepickerLabel",children:e(pa,{size:28,color:"#545776",weight:"fill",className:"calendarIcon"})}),e("input",{className:"text-small inputSearchStyle",type:"text",name:"date",id:"datepicker",value:E,onChange:g=>i(g.target.value),autoComplete:"off",placeholder:"Check in  -  Check out",ref:t})]}),e("button",{className:"btnSearchBar",type:"submit",children:" Buscar "})]})]})}function V({loading:r=!0}){return e(q,{children:r&&e("div",{className:"loading",children:e(Ca,{strokeColor:"#1dbeb4",strokeWidth:"5",animationDuration:"0.75",width:"96",visible:!0})})})}function mr(){const{urlBase:r,loading:s,homeProducts:p,loadingWait:u}=$(),[c,E]=n.useState(""),[i,t]=n.useState(p),[N,v]=n.useState(p),[b,d]=n.useState(4),[h,m]=n.useState(0),[w,l]=n.useState(""),[S,k]=n.useState(1);n.useEffect(()=>{A.get(`${r}/categorias`).then(o=>{E(o.data)},o=>{if(o.code==="ERR_NETWORK")return P.error("Ocorreu um erro, por favor recarregue a página.")}),A.get(`${r}/produtos`).then(o=>{t(o.data),v(o.data)},o=>{if(o.code==="ERR_NETWORK")return P.error("Ocorreu um erro, por favor recarregue a página.")})},[]),n.useEffect(()=>{t(p),v(p)},[p]),n.useEffect(()=>{const o=h+b;l(N.slice(h,o))},[h,N]),n.useEffect(()=>{m(0),k(1)},[N]);function g(o){let C=i.filter(x=>x.categoria.id==o);v(C)}function f(o){if(i.length>1)return i.filter(C=>C.categoria.id==o).length}return a("main",{className:"mainStyle",children:[e(ur,{filteredData:o=>v(o)}),e("section",{className:"categoriesSection",children:a("div",{className:"custonSection",children:[e("h1",{children:"Buscar por tipo de acomodação"}),e("div",{className:"categoryContainer",children:c&&c.map((o,C)=>e(De,{className:"cardCategorias",type:"category",id:o.id,img:o.urlImagem,category:o.qualificacao,quantity:f(o.id),filteredData:x=>g(x)},C))})]})}),a("section",{className:"recomendationsSection",children:[a("div",{className:"custonSection",children:[e("h1",{children:"Recomendações"}),e("div",{className:"recomendationContainer",children:w&&w.map((o,C)=>e(De,{type:"recomendations",id:o.id,img:o.imagens,favorite:o.favorito,stars:o.estrelas,title:o.nome,grade:o.avaliacao,location:o.localizacao,differential:o.caracteristicas,description:o.descricao,category:o.categoria},C))})]}),e(ya,{page:S,between:3,total:N.length,limit:b,changePage:o=>{k(o),m((o-1)*b%N.length),u(200)},ellipsis:1})]}),e(V,{loading:s})]})}function _e({type:r}){const{saveToken:s,saveUser:p,user:u,urlBase:c}=$(),E=X(),i=new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[!+¨:=/@|#$%^&*])(?=.*[0-9]).{8,}$"),[t,N]=n.useState(""),[v,b]=n.useState(""),[d,h]=n.useState(""),[m,w]=n.useState(""),[l,S]=n.useState(""),[k,g]=n.useState(!1),[f,o]=n.useState({type:"",message:""});function C(){r==="login"?(h(""),w("")):(N(""),b(""),h(""),w(""),S(""))}function x(){g(!k)}function K(z){if(z.preventDefault(),!D())return;let R;r==="login"?R=`${c}/auth/login`:R=`${c}/auth/register`;let _;r==="login"?_={email:d,senha:m}:_={nome:t,sobrenome:v,email:d,senha:m},A.post(R,_).then(O=>{r==="login"?(s(O.data.token),A.get(`${c}/auth/search?email=${d}`).then(B=>{p(B.data),P.success("Usuário logado com sucesso"),E("/home")},B=>{if(B.code==="ERR_NETWORK")return P.error("Ocorreu um erro, por favor recarregue a página.")})):(P.success("Usuário criado com sucesso"),E("/login"))},O=>{if(r==="login"){if(O.request.status==403)return P.error("Usuário não encontrado");if(O.status==404)return P.error("Usuário ou senha não encontrados");if(O.code==="ERR_NETWORK")return P.error("Infelizmente não foi possivel logar. Por favor, tente novamente mais tarde.")}else{if(O.status==404)return P.error("Erro ao preencher o formuário. Recarregue a página e tente novamente.");if(O.code==="ERR_NETWORK")return P.error("Infelizmente não foi possivel registrar. Por favor, tente novamente mais tarde.")}}),C()}function D(z){switch(z){case"firstName":if(t==="")return o({type:"firstNameError",message:"Este campo é obrigatório"});if(t.length<4)return o({type:"firstNameError",message:"O nome precisa ter mais de 3 letras"});if(t==null||t===null)return o({type:"passwordError",message:"Erro ao preencher o formuário. Recarregue a página e tente novamente."});break;case"surname":if(v==="")return o({type:"surnameError",message:"Este campo é obrigatório"});if(v.length<4)return o({type:"surnameError",message:"O sobrenome precisa ter mais de 3 letras"});if(v==null||v===null)return o({type:"passwordError",message:"Erro ao preencher o formuário. Recarregue a página e tente novamente."});break;case"email":if(d==="")return o({type:"emailError",message:"Este campo é obrigatório"});if(d==null||d===null)return o({type:"emailError",message:"Erro ao preencher o formuário. Recarregue a página e tente novamente."});break;case"password":if(m==="")return o({type:"passwordError",message:"Este campo é obrigatório"});if(r==="login"){if(m==="")return o({type:"passwordError",message:"Este campo é obrigatório"});if(m==null||m===null)return o({type:"passwordError",message:"Erro ao preencher o formuário. Recarregue a página e tente novamente."})}else{if(m==="")return o({type:"passwordError",message:"Este campo é obrigatório"});if(!m.match(i))return o({type:"passwordError",message:"A senha deve conter pelo menos um número, 7 letras, letra maiúscula múscula e um caracter especial (!@#$%¨&*()/+|:)"});if(l!==""&&l!==m)return o({type:"confirnPasswordError",message:"As duas senhas devem ser iguais"});if(m==null||m===null)return o({type:"passwordError",message:"Erro ao preencher o formuário. Recarregue a página e tente novamente."})}break;case"confirnPassword":if(l==="")return o({type:"confirnPasswordError",message:"Este campo é obrigatório"});if(l!==m)return o({type:"confirnPasswordError",message:"As duas senhas devem ser iguais"});if(l==null||l===null)return o({type:"passwordError",message:"Erro ao preencher o formuário. Recarregue a página e tente novamente."});break;default:if(r==="login"){if(d==="")return o({type:"emailError",message:"Este campo é obrigatório"});if(d==null||d===null)return o({type:"emailError",message:"Erro ao preencher o formuário. Recarregue a página e tente novamente."});if(m==="")return o({type:"passwordError",message:"Este campo é obrigatório"});if(m==null||m===null)return o({type:"passwordError",message:"Erro ao preencher o formuário. Recarregue a página e tente novamente."})}else{if(t==="")return o({type:"firstNameError",message:"Este campo é obrigatório"});if(t.length<4)return o({type:"firstNameError",message:"O nome precisa ter mais de 3 letras"});if(t==null||t===null)return o({type:"passwordError",message:"Erro ao preencher o formuário. Recarregue a página e tente novamente."});if(v==="")return o({type:"surnameError",message:"Este campo é obrigatório"});if(v.length<4)return o({type:"surnameError",message:"O sobrenome precisa ter mais de 3 letras"});if(v==null||v===null)return o({type:"passwordError",message:"Erro ao preencher o formuário. Recarregue a página e tente novamente."});if(d==="")return o({type:"emailError",message:"Este campo é obrigatório"});if(d==null||d===null)return o({type:"emailError",message:"Erro ao preencher o formuário. Recarregue a página e tente novamente."});if(m==="")return o({type:"passwordError",message:"Este campo é obrigatório"});if(!m.match(i))return o({type:"passwordError",message:"A senha deve conter pelo menos um número, 7 letras, letra maiúscula múscula e um caracter especial (!@#$%¨&*()/+|:)"});if(m==null||m===null)return o({type:"passwordError",message:"Erro ao preencher o formuário. Recarregue a página e tente novamente."});if(l==="")return o({type:"confirnPasswordError",message:"Este campo é obrigatório"});if(l!==m)return o({type:"confirnPasswordError",message:"As duas senhas devem ser iguais"});if(l==null||l===null)return o({type:"passwordError",message:"Erro ao preencher o formuário. Recarregue a página e tente novamente."})}break}return o({type:"",message:""}),!0}return a("form",{className:"formulario",onSubmit:K,children:[r&&r==="createUser"&&e("h1",{children:"Criar conta"}),r&&r==="login"&&e("h1",{children:"Iniciar Sessão"}),r&&r==="createUser"&&a("div",{className:"containerInputs",children:[a("div",{className:"errorContainer",children:[a("div",{className:"inputs",children:[e("label",{htmlFor:"firstName",className:"text-small",children:"Nome"}),e("input",{className:"text-small",type:"text",placeholder:"Primeiro nome",name:"firstName",id:"firstName",value:t,onChange:z=>N(z.target.value),onBlur:()=>D("firstName")})]}),f.type==="firstNameError"?e("p",{className:"text-small errorMsg",children:f.message}):"",f.type==="surnameError"?e("p",{className:"text-small errorSpace",style:{color:"#ffffff00"},children:f.message}):""]}),a("div",{className:"errorContainer",children:[a("div",{className:"inputs",children:[e("label",{htmlFor:"surname",className:"text-small",children:"Sobrenome"}),e("input",{className:"text-small",type:"text",placeholder:"Último nome",name:"surname",id:"surname",value:v,onChange:z=>b(z.target.value),onBlur:()=>D("surname")})]}),f.type==="surnameError"?e("p",{className:"text-small errorMsg",children:f.message}):"",f.type==="firstNameError"?e("p",{className:"text-small errorSpace",style:{color:"#ffffff00"},children:f.message}):""]})]}),a("div",{className:"inputs",children:[e("label",{htmlFor:"email",className:"text-small",children:"Email"}),e("input",{className:"text-small",type:"email",placeholder:"Email que mais usa",name:"email",id:"email",value:d,onChange:z=>h(z.target.value),onBlur:()=>D("email")})]}),f.type==="emailError"?e("p",{className:"text-small errorMsg",children:f.message}):"",a("div",{className:"inputs",children:[e("label",{htmlFor:"password",className:"text-small",children:"Senha"}),e("input",{className:"text-small",type:k?"text":"password",placeholder:"Digite a sua senha",name:"password",id:"password",value:m,onChange:z=>w(z.target.value),onBlur:()=>D("password")}),e("div",{className:"icontainer",children:k?e(ha,{size:24,className:"iconStyle",onClick:x}):e(ga,{size:24,className:"iconStyle",onClick:x})})]}),f.type==="passwordError"?e("p",{className:"text-small errorMsg",children:f.message}):"",r&&r==="createUser"&&a(q,{children:[a("div",{className:"inputs",children:[e("label",{htmlFor:"confirnPassword",className:"text-small",children:"Confirmar senha"}),e("input",{className:"text-small",type:k?"text":"Password",placeholder:"Confirme a sua senha",name:"confirnPassword",id:"confirnPassword",value:l,onChange:z=>S(z.target.value),onBlur:()=>D("confirnPassword")})]}),f.type==="confirnPasswordError"?e("p",{className:"text-small errorMsg",style:{alignSelf:"flex-end"},children:f.message}):""]}),r&&r==="createUser"&&a(q,{children:[e("button",{className:"btn",type:"submit",children:" Criar conta "}),a("p",{className:"text-small",children:["Já tem uma conta?",e(T,{to:"/login",className:"linkStyle",children:"Iniciar sessão"})]})]}),r&&r==="login"&&a(q,{children:[e("button",{className:"btn",type:"submit",children:" Entrar "}),a("p",{className:"text-small",children:["Ainda não tem conta?",e(T,{to:"/createUser",className:"linkStyle",children:"Registre-se."})]})]})]})}function pr(){const{loading:r}=$();return a("section",{className:"loginPage",children:[e(V,{loading:r}),e(_e,{type:"login"})]})}function ze(){const{loading:r}=$();return a("section",{className:"createUserPage",children:[e(V,{loading:r}),e(_e,{type:"createUser"})]})}function ee({redirectPath:r="/home",msg:s,type:p="swal",role:u="USER",children:c}){const{auth:E,user:i}=$();return u==="USER"&&!E?(p==="toast"?P.error(s):J.fire({text:s,width:"360",color:"#545776",icon:"error",showConfirmButton:!1,timer:4e3}),e(Se,{to:r,replace:!0})):u==="ADMIN"&&(!E||i.role!=="administrador")?(p==="toast"?P.error(s):J.fire({text:s,width:"360",color:"#545776",icon:"error",showConfirmButton:!1,timer:4e3}),e(Se,{to:r,replace:!0})):c}function ae(r){return r.replaceAll(". ",`. 
`).split(`
`)}function hr(){const{id:r}=ia(),[s,p]=n.useState(""),u=la(),{urlBase:c,auth:E}=$();function i(t){const N=[];return t.forEach(([v,b])=>{const d=new Date(v),h=new Date(b);for(let m=new Date(d);m<=h;m.setDate(m.getDate()+1))N.push(m.toISOString().substring(0,10))}),N}return n.useEffect(()=>{A.get(`${c}/produtos/${r}`).then(t=>{let N=t.data;A.defaults.headers.get.Authorization=`Bearer ${E}`,A.get(`${c}/reservas/por_produto/${r}`).then(v=>{let b=[];v.data.forEach(d=>{b.push([d.dataInicial,d.dataFinal])}),p({...N,lockedDates:i(b)})},v=>{if(v.status==404)return P.error("Houve um problema, recarregue a página");if(v.code==="ERR_NETWORK")return P.error("Verifique a sua conexão com a internet.")})},t=>{if(t.status==404)return P.error("Houve um problema, recarregue a página");if(t.code==="ERR_NETWORK")return P.error("Verifique a sua conexão com a internet.")})},[]),e(q,{children:s!==""?a("section",{className:"productContainer",children:[a("section",{className:"headerSection",children:[a("div",{className:"headerText",children:[a("p",{className:"h4",children:[s.categoria.id===1&&"Hotel",s.categoria.id===2&&"Hostel",s.categoria.id===3&&"Apartamento",s.categoria.id===4&&"Pousada"]}),e("p",{className:"title h1",children:s.nome})]}),e(T,{to:u.pathname.includes("booking")?`/product/${r}`:"/home",children:e(pe,{className:"caretLeftIcon",size:32,color:"#ffffff",weight:"bold"})})]}),e(Ie,{context:s}),a("section",{className:"politicsSection",children:[e("h1",{className:"h1",children:"O que você precisa saber:"}),a("section",{className:"politicDetails",children:[a("section",{className:"politicsText",children:[e("h2",{className:"h3",children:"Regras da casa"}),ae(s.detalhes.regrasDaCasa).map((t,N)=>e("p",{className:"text-normal detailText",children:t},N))]}),a("section",{className:"politicsText",children:[e("h2",{className:"h3",children:"Saúde e Segurança"}),ae(s.detalhes.saudeESeguranca).map((t,N)=>e("p",{className:"text-normal detailText",children:t},N))]}),a("section",{className:"politicsText",children:[e("h2",{className:"h3",children:"Política de cancelamento"}),ae(s.detalhes.politicaDeCancelamento).map((t,N)=>e("p",{className:"text-normal detailText",children:t},N))]})]})]})]}):e(V,{loading:!0})})}function gr(r){return r.replace(/[0-9!@#¨$%^&*)(+=._-]+/g,"")}const Ke="/assets/success-2df3385a.gif";function fr(){const r=Ae(),{user:s,auth:p,urlBase:u,loading:c}=$(),E=X(),[i,t]=n.useState(""),[N,v]=n.useState(!1),[b,d]=n.useState(window.innerWidth),[h,m]=n.useState("Selecione a hora prevista de chegada"),[w,l]=n.useState("__/__/____"),[S,k]=n.useState("__/__/____"),g=n.useRef(null);function f(D){const z=[];return D.forEach(([R,_])=>{const O=new Date(R),B=new Date(_);for(let F=new Date(O);F<=B;F.setDate(F.getDate()+1))z.push(F.toISOString().substring(0,10))}),z}n.useEffect(()=>{r!==void 0&&setTimeout(()=>{o()},1)},[r]);function o(){N&&g.current.destroy(),g.current=new he({element:document.getElementById("datepicker"),numberOfMonths:2,numberOfColumns:2,selectForward:!0,singleMode:!1,lang:"pt-BR",format:"DD MMM",autoApply:!0,autoClose:!0,tooltipText:{one:"dia",other:"dias"},inlineMode:!0,minDate:new Date,lockDaysFilter:(D,z,R)=>{if(r.lockedDates&&r.lockedDates!==void 0)return r.lockedDates.includes(D.format("YYYY-MM-DD"))},setup:D=>{D.on("render",z=>{v(!0)}),D.on("selected",(z,R)=>{l(z.dateInstance.toLocaleDateString("pt-BR")),k(R.dateInstance.toLocaleDateString("pt-BR"))})}}),b<640?(g.current.setOptions({numberOfColumns:1}),g.current.setOptions({numberOfMonths:1})):(g.current.setOptions({numberOfColumns:2}),g.current.setOptions({numberOfMonths:2}))}n.useEffect(()=>{const D=()=>{d(window.innerWidth)};return window.addEventListener("resize",D),()=>{window.removeEventListener("resize",D)}}),n.useEffect(()=>{setTimeout(()=>{b<640?(g.current.setOptions({numberOfColumns:1}),g.current.setOptions({numberOfMonths:1})):(g.current.setOptions({numberOfColumns:2}),g.current.setOptions({numberOfMonths:2}))},2)},[b]);function C(){t(""),g.current.clearSelection(),g.current.destroy(),l("__/__/____"),k("__/__/____"),o(),m("Selecione a hora prevista de chegada")}function x(){return i==null||i.length<1?(P.error("Preencha a cidade onde mora"),!1):w=="__/__/____"||S=="__/__/____"?(P.error("Selecione as datas"),!1):h=="Selecione a hora prevista de chegada"?(P.error("Selecione a hora prevista de chegada"),!1):!0}function K(D){D.preventDefault();let z=f([[w.split("/").reverse().join("-"),S.split("/").reverse().join("-")]]),R=!0;if(z.forEach(B=>{if(R&&r.lockedDates.includes(B))return P.error("Selecione uma data não selecionada!"),R=!1}),!x()||!R)return;let _=`${u}/reservas`,O={dataInicial:w.split("/").reverse().join("-"),dataFinal:S.split("/").reverse().join("-"),hora:h,produto:{id:r.id},usuario:{id:s.id}};A.defaults.headers.post.Authorization=`Bearer ${p}`,A.post(_,O).then(B=>{J.fire({title:"Sucesso!",text:"Sua reserva foi confirmada.",width:"360",color:"#545776",imageUrl:Ke,focusConfirm:!1,confirmButtonColor:"#1dbeb4",confirmButtonText:"Ok"}).then(F=>{E("/home")})},B=>{if(console.log(B),B.status==404)return P.error("Infelizmente, a reserva não pode ser completada. Por favor, tente novamente mais tarde.");if(B.code==="ERR_NETWORK")return P.error("Verifique a sua conexão com a internet.")}),C()}return a("div",{className:"bookingSection",children:[e(V,{loading:c}),a("form",{className:"productBookingContainer",onSubmit:K,children:[a("section",{className:"confirmPersonalData",children:[e("h1",{className:"h1",children:"Complete seus dados"}),a("section",{className:"personalDataContainer",children:[a("div",{className:"inputContainer",children:[e("label",{className:"labelStyle h4",children:"Nome"}),e("input",{defaultValue:s.nome,readOnly:!0,className:"inputStyle"})]}),a("div",{className:"inputContainer",children:[e("label",{className:"labelStyle h4",children:"Sobrenome"}),e("input",{defaultValue:s.sobrenome,readOnly:!0,className:"inputStyle"})]}),a("div",{className:"inputContainer",children:[e("label",{className:"labelStyle h4",children:"E-mail"}),e("input",{defaultValue:s.email,readOnly:!0,className:"inputStyle"})]}),a("div",{className:"inputContainer",children:[e("label",{htmlFor:"city",className:"labelStyle h4",children:"Cidade"}),e("input",{type:"text",name:"city",id:"city",className:"inputStyle",placeholder:"Digite a cidade que reside...",value:i,onChange:D=>t(gr(D.target.value))})]})]})]}),a("section",{className:"bookingDate",children:[e("h1",{className:"h1",children:"Selecione sua data de reserva"}),e("section",{className:"datePickerSection",children:e("div",{className:"datepickerStyle",id:"datepicker",ref:g})})]}),a("section",{className:"bookingCheckIn",children:[e("h1",{className:"h1",children:"Seu horário de chegada"}),a("section",{className:"checkinHourSection",children:[a("div",{className:"checkinText",children:[e(fa,{className:"okIcon"}),e("p",{className:"h4",children:"Seu quarto estara pronto para check-in entre 10h00 e 23h00"})]}),a("div",{className:"checkinTime",children:[e("label",{htmlFor:"checkinTime",className:"h4",children:"Indique a sua hora prevista de chegada"}),a("select",{name:"time",value:h,id:"selectTime",className:"selectTimeStyle",onChange:D=>m(D.target.value),children:[e("option",{value:"Selecione a data e hora de chegada",children:"Selecione a data e hora de chegada"}),e("option",{value:"01:00:00",children:"01:00 AM"}),e("option",{value:"02:00:00",children:"02:00 AM"}),e("option",{value:"03:00:00",children:"03:00 AM"}),e("option",{value:"04:00:00",children:"04:00 AM"}),e("option",{value:"05:00:00",children:"05:00 AM"}),e("option",{value:"06:00:00",children:"06:00 AM"}),e("option",{value:"07:00:00",children:"07:00 AM"}),e("option",{value:"08:00:00",children:"08:00 AM"}),e("option",{value:"09:00:00",children:"09:00 AM"}),e("option",{value:"10:00:00",children:"10:00 AM"}),e("option",{value:"11:00:00",children:"11:00 AM"}),e("option",{value:"12:00:00",children:"12:00 AM"}),e("option",{value:"13:00:00",children:"01:00 PM"}),e("option",{value:"14:00:00",children:"02:00 PM"}),e("option",{value:"15:00:00",children:"03:00 PM"}),e("option",{value:"16:00:00",children:"04:00 PM"}),e("option",{value:"17:00:00",children:"05:00 PM"}),e("option",{value:"18:00:00",children:"06:00 PM"}),e("option",{value:"19:00:00",children:"07:00 PM"}),e("option",{value:"20:00:00",children:"08:00 PM"}),e("option",{value:"21:00:00",children:"09:00 PM"}),e("option",{value:"22:00:00",children:"10:00 PM"}),e("option",{value:"23:00:00",children:"11:00 PM"}),e("option",{value:"24:00:00",children:"12:00 PM"})]})]})]})]}),e("section",{className:"bookingDetails",children:a("section",{className:"datailsCard",children:[e("h1",{className:"h1 ",children:"Detalhe da reserva"}),a("div",{className:"bookingDetailsContainer",children:[e("img",{src:r.imagens[0].url,className:"bookingImage"}),a("section",{className:"bookingDetailsSection",children:[a("div",{className:"titleText",children:[e("p",{className:"h4",children:"Hotel"}),e("p",{className:"h1",children:r.nome}),e(ge,{rate:r.estrelas})]}),a("div",{className:"locationText",children:[e(te,{className:"mapPinStyle",size:22,color:"#545776",weight:"fill"}),e("p",{className:"text-normal",children:r.localizacao.endereco})]}),a("div",{className:"checkDates",children:[e("hr",{}),a("p",{children:["Check in - ",w]}),e("hr",{}),a("p",{children:["Check out - ",S]})]}),e("button",{className:"btnBooking",type:"submit",children:"Realizar a reserva"})]})]})]})})]})]})}function Me(r){const[s,p]=n.useState(null),[u,c]=n.useState(r.imgs.map(E=>E.url));return a("section",{className:"carouselSection",children:[e(ye,{style:{"--swiper-navigation-color":"#fff","--swiper-pagination-color":"#fff"},autoplay:{pauseOnMouseEnter:!0,delay:3e3,disableOnInteraction:!1},pagination:{type:"fraction"},loop:!0,effect:"fade",spaceBetween:10,navigation:!0,mousewheel:!0,keyboard:!0,thumbs:{swiper:s},modules:[Ce,we,wa,xa,Pa,ka,Da,za,xe],className:"carousel",children:u&&u.map((E,i)=>e(Pe,{children:e("img",{src:E})},i))}),e(ye,{onSwiper:p,loop:!0,spaceBetween:10,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,modules:[Ce,we,xe],className:"thumbs",children:u&&u.map((E,i)=>e(Pe,{children:e("img",{src:E})},i))})]})}function Nr({location:r,downtown:s,address:p}){const u=L.Icon.extend({options:{shadowUrl:qe,iconSize:[30,50],shadowSize:[50,64],iconAnchor:[30,12],shadowAnchor:[30,25],popupAnchor:[-3,-76]}}),c=new u({iconUrl:He});return e(q,{children:r!=="[undefined, undefined]"&&s!=="[undefined, undefined]"?a(Ma,{className:"mapStyle",fullscreenControl:!0,fullscreenControlOptions:{position:"topleft"},center:r,zoom:13,scrollWheelZoom:!0,children:[e(Ia,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),e(Aa,{position:r,icon:c,children:e(Ra,{direction:"top",offset:[-15,-15],opacity:1,permanent:!0,children:e("b",{children:p})})}),e(Oa,{center:s,radius:2e3,fillColor:"#ee375c",color:"red"})]}):e("p",{children:"Ocorreu um erro com mapa da propriedade, por favor entre em contato com o suporte"})})}function vr(){const r=Ae(),[s,p]=n.useState(r.caracteristicas.map(f=>f.nome)),[u,c]=n.useState(!1),[E,i]=n.useState(!1),[t,N]=n.useState(""),[v,b]=n.useState(!1),[d,h]=n.useState(window.innerWidth),m=n.useRef(null),{loading:w}=$();n.useEffect(()=>{l()},[]);function l(f){v&&m.current.destroy(),r!==void 0&&(m.current=new he({element:document.getElementById("datepicker"),numberOfMonths:2,numberOfColumns:2,selectForward:!0,singleMode:!1,lang:"pt-BR",format:"DD MMM",autoApply:!0,autoClose:!0,tooltipText:{one:"dia",other:"dias"},inlineMode:!0,minDate:new Date,lockDaysFilter:(o,C,x)=>{if(r.lockedDates&&r.lockedDates!==void 0)return r.lockedDates.includes(o.format("YYYY-MM-DD"))},setup:o=>{o.on("render",C=>{b(!0)})}}))}n.useEffect(()=>{const f=()=>{h(window.innerWidth)};return window.addEventListener("resize",f),()=>{window.removeEventListener("resize",f)}},[]),n.useEffect(()=>{setTimeout(()=>{d<640?(m.current.setOptions({numberOfColumns:1}),m.current.setOptions({numberOfMonths:1})):(m.current.setOptions({numberOfColumns:2}),m.current.setOptions({numberOfMonths:2}))},2)},[d]),n.useEffect(()=>{N(window.location.href)},[]);function S(f){const o=document.createElement("textarea");o.value=f,document.body.appendChild(o),o.focus(),o.select();try{document.execCommand("copy")}catch(C){console.error("Unable to copy to clipboard",C)}document.body.removeChild(o)}function k(){let f=window.location.href;window.isSecureContext&&navigator.clipboard?navigator.clipboard.writeText(f):S(f)}function g(){document.body.scrollTop=0,document.documentElement.scrollTop=0}return a("section",{className:"productDetailContainer",children:[u&&a("div",{className:"carouselContainer",children:[e("div",{className:"controle",onClick:()=>c(!1)}),e(Me,{imgs:r.imagens}),e(re,{size:32,className:"closeIcon",type:"modal",color:"#ffffff",weight:"bold",onClick:()=>c(!1)})]}),a("section",{className:"locationSection",children:[a("div",{className:"locationText",children:[e(te,{className:"mapPinStyle",size:20,color:"#545776",weight:"fill"}),a("p",{className:"text-normal",children:[r.localizacao.endereco,", à ",r.localizacao.distancia,"m do centro"]})]}),a("div",{className:"locationGrade",children:[a("div",{className:"gradeRating",children:[e("p",{className:"text-small gradeText",children:We(r.avaliacao)}),e(ge,{rate:r.estrelas})]}),e("div",{className:"grade",children:r.avaliacao.toFixed(1)})]})]}),a("section",{className:"shareSection",children:[e(Na,{size:24,color:"#000000",className:"shareButton",onClick:i}),E&&a("div",{className:"shareContainer",children:[e("div",{className:"controle",onClick:()=>i(!1)}),e(re,{size:32,className:"closeIcon",type:"share",color:"#ffffff",weight:"bold",onClick:()=>i(!1)}),a("section",{className:"shareContent",children:[e("h1",{className:"shareTitle",children:"Compartilhe esta oportunidade!"}),a("section",{className:"shareInputContainer",children:[e("input",{type:"text",defaultValue:t,readOnly:!0,className:"shareInput"}),e("button",{className:"copyStyle",onClick:()=>{k()},children:e(va,{className:"copyButton",size:26})})]}),a("div",{className:"shareIcons",children:[e(Ta,{url:t,children:e(Ba,{size:32,round:!0})}),e(Fa,{url:t,children:e(La,{size:32,round:!0})}),e(Ua,{url:t,children:e($a,{size:32,round:!0})}),e(Wa,{url:t,children:e(Ha,{size:32,round:!0})}),e(qa,{url:t,children:e(_a,{size:32,round:!0})}),e(Ka,{url:t,children:e(Va,{size:32,round:!0})})]})]})]})]}),a("section",{className:"imgsSection",children:[a("div",{className:r.imagens.length<5?"desktopStyle2":"desktopStyle",children:[r.imagens[0]&&e("img",{className:"img0",src:r.imagens[0].url}),r.imagens[1]&&e("img",{className:"img1",src:r.imagens[1].url}),r.imagens[2]&&e("img",{className:"img2",src:r.imagens[2].url}),r.imagens[3]&&e("img",{className:"img3",src:r.imagens[3].url}),r.imagens[4]&&e("img",{className:"img4",src:r.imagens[4].url})]}),e("div",{className:"seeMoreStyle",style:r.imagens.length<5?{color:"black"}:{color:"#ffffff"},children:e("a",{onClick:()=>c(!u),children:"Ver mais"})}),e("div",{className:"carouselComponent",children:e(Me,{imgs:r.imagens})})]}),a("section",{className:"descriptionSection",children:[e("h1",{className:".h1 descriptionTitle",children:r.descricao.titulo}),ae(r.descricao.texto).map((f,o)=>e("p",{className:"text-normal",children:f},o))]}),a("section",{className:"diferentialSection",children:[e("h1",{className:"h1",children:"O que esse lugar oferece?"}),e("hr",{}),a("div",{className:"diferentialItens",children:[s.includes("Wi-Fi")&&a("p",{className:"iconsText text-normal",children:[e(ne,{size:20,color:"#383b58"})," - Wi-Fi"]}),s.includes("Piscina")&&a("div",{className:"iconsText text-normal",children:[e("p",{className:"poolIcon"})," - Piscina"]}),s.includes("Pets")&&a("p",{className:"iconsText text-normal",children:[e(ie,{size:20,color:"#383b58",weight:"fill"})," - Pet friendly"]}),s.includes("TV")&&a("p",{className:"iconsText text-normal",children:[e(le,{size:20,color:"#383b58"})," - Televisão"]}),s.includes("Cozinha")&&a("p",{className:"iconsText text-normal",children:[e(ce,{size:20,color:"#383b58"})," - Cozinha"]}),s.includes("Estacionamento")&&a("p",{className:"iconsText text-normal",children:[e(de,{size:20,color:"#383b58"})," - Estacionamento"]}),s.includes("Jacuzzi")&&a("p",{className:"iconsText text-normal",children:[e(ue,{size:20,color:"#383b58"})," - Jacuzzi"]}),s.includes("Ar-condicionado")&&a("p",{className:"iconsText text-normal",children:[e(me,{size:20,color:"#383b58"})," - Ar condicionado"]})]})]}),a("section",{className:"mapSection",children:[e("h1",{className:"h1",children:"Localização"}),e(Nr,{location:JSON.parse(r.localizacao.coordenadas!=="[undefined, undefined]"?r.localizacao.coordenadas:r.localizacao.centro),downtown:JSON.parse(r.localizacao.centro),address:r.localizacao.endereco})]}),a("section",{className:"availabilitySection",children:[e("h1",{className:"h1",children:"Datas disponíveis"}),a("section",{className:"datePickerSection",children:[e("div",{className:"datepickerStyle",id:"datepicker",ref:m}),a("section",{className:"initReserveSection",children:[e("p",{className:"text-normal paragraphText",children:"Adicione as datas da sua viagem para obter preços exatos"}),e(T,{to:`/product/${r.id}/booking`,className:"btnInitReserve",onClick:g,children:"Iniciar Reserva"})]})]})]}),e(V,{loading:w})]})}function Er(r,s,p,u){function c(d){return d*(Math.PI/180)}let E=6371*1e3,i=c(p-r),t=c(u-s),N=Math.sin(i/2)*Math.sin(i/2)+Math.cos(c(r))*Math.cos(c(p))*Math.sin(t/2)*Math.sin(t/2),v=2*Math.atan2(Math.sqrt(N),Math.sqrt(1-N));return(E*v).toFixed(0)}function Ve({dragOverlay:r,name:s}){const p={cursor:r?"grabbing":"grab"};return a(q,{children:[s=="Wi-fi"&&a("div",{style:p,className:"item",children:[e(ne,{size:20,color:"#383b58"})," - ",s]}),s=="Piscina"&&a("div",{style:p,className:"item",children:[e("p",{className:"poolIcon"})," - ",s]}),s=="Pets"&&a("div",{style:p,className:"item",children:[e(ie,{size:20,color:"#383b58"})," - ",s]}),s=="TV"&&a("div",{style:p,className:"item",children:[e(le,{size:20,color:"#383b58"})," - ",s]}),s=="Cozinha"&&a("div",{style:p,className:"item",children:[e(ce,{size:20,color:"#383b58"})," - ",s]}),s=="Estacionamento"&&a("div",{style:p,className:"item",children:[e(de,{size:20,color:"#383b58"})," - ",s]}),s=="Jacuzzi"&&a("div",{style:p,className:"item",children:[e(ue,{size:20,color:"#383b58"})," - ",s]}),s=="Ar-condicionado"&&a("div",{style:p,className:"item",children:[e(me,{size:20,color:"#383b58"})," - ",s]})]})}const br=(r,s)=>[...r.slice(0,s),...r.slice(s+1)],Sr=(r,s,p)=>[...r.slice(0,s),p,...r.slice(s)],yr=(r,s,p)=>ja(r,s,p);function Cr({id:r,name:s}){const{attributes:p,listeners:u,setNodeRef:c,transform:E,transition:i,isDragging:t}=Ja({id:r});return e("li",{style:{transition:i,opacity:t?.5:1},ref:c,...p,...u,children:e(Ve,{name:s})})}function wr({id:r,items:s}){const{setNodeRef:p}=Ya({id:r});return e(Qa,{id:r,items:s,strategy:Xa,children:e("ul",{className:"droppable",ref:p,children:s.map((u,c)=>e(Cr,{id:u,name:u},c))})})}function xr({filteredData:r}){const[s,p]=n.useState({group1:["Wi-fi","Piscina","Pets","TV","Cozinha","Estacionamento","Jacuzzi","Ar-condicionado"],group2:[]}),[u,c]=n.useState(null);n.useEffect(()=>{let d=[{id:1,nome:"Wi-Fi",icone:"wi-fi"},{id:2,nome:"Piscina",icone:"pool"},{id:3,nome:"Pets",icone:"pets"},{id:4,nome:"TV",icone:"tv"},{id:5,nome:"Cozinha",icone:"kitchen"},{id:6,nome:"Estacionamento",icone:"parking"},{id:7,nome:"Jacuzzi",icone:"jacuzzi"},{id:8,nome:"Ar-condicionado",icone:"air-conditioning"}],h=[];d.forEach(m=>{if(s.group2.includes(m.nome))return h.push({nome:m.nome})}),r(h)},[s]);const E=Za(oe(or),oe(tr),oe(rr,{coordinateGetter:ar})),i=({active:d})=>{c(d.id)},t=()=>{c(null)},N=({active:d,over:h})=>{var S;if(!(h==null?void 0:h.id))return;const w=d.data.current.sortable.containerId,l=((S=h.data.current)==null?void 0:S.sortable.containerId)||h.id;w!==l&&p(k=>{const g=d.data.current.sortable.index,f=h.id in k?k[l].length+1:h.data.current.sortable.index;return b(k,w,g,l,f,d.id)})},v=({active:d,over:h})=>{var m;if(!h){c(null);return}if(d.id!==h.id){const w=d.data.current.sortable.containerId,l=((m=h.data.current)==null?void 0:m.sortable.containerId)||h.id,S=d.data.current.sortable.index,k=h.id in s?s[l].length+1:h.data.current.sortable.index;p(g=>{let f;return w===l?f={...g,[l]:yr(g[l],S,k)}:f=b(g,w,S,l,k,d.id),f})}c(null)},b=(d,h,m,w,l,S)=>({...d,[h]:br(d[h],m),[w]:Sr(d[w],l,S)});return a("section",{className:"dragAndDropContainer",children:[e("p",{className:"text-normal",children:"Clique e arraste os itens que deseja adicionar:"}),a(Ga,{sensors:E,onDragStart:i,onDragCancel:t,onDragOver:N,onDragEnd:v,children:[e("div",{className:"container",children:Object.keys(s).map(d=>e(wr,{id:d,items:s[d],activeId:u},d))}),e(er,{children:u?e(Ve,{id:u,dragOverlay:!0}):null})]})]})}function Pr(){const r=X(),{urlBase:s,auth:p,loading:u}=$(),[c,E]=n.useState(!0),[i,t]=n.useState({type:"",message:""}),[N,v]=n.useState(""),[b,d]=n.useState(""),[h,m]=n.useState(""),[w,l]=n.useState(),[S,k]=n.useState(""),[g,f]=n.useState(""),[o,C]=n.useState(""),[x,K]=n.useState(""),[D,z]=n.useState(""),[R,_]=n.useState(""),[O,B]=n.useState(""),[F,fe]=n.useState(""),[je,Ne]=n.useState(""),[I,Z]=n.useState({}),[j,ve]=n.useState([]),[G,Ee]=n.useState([""]);n.useEffect(()=>{K(x.replace(/\D/g,"").replace(/^(\d{5})(\d{3})+?$/,"$1-$2").slice(0,9)),x.length>9&&K(x.slice(0,9)),x.length<8&&z(""),x.length===8&&!x.includes("-")&&A.get(`https://viacep.com.br/ws/${x}/json/`).then(y=>{y.data.erro===!0?(z(""),B(""),v(""),t({type:"cepError",message:"CEP inválido"})):(v(y.data),z(`${y.data.logradouro}, ${y.data.bairro}, ${y.data.localidade} - ${y.data.uf}`),B(`${y.data.localidade} - ${y.data.uf}`))},y=>{z("")})},[x]);function Je(){let y=`${N.localidade}, ${N.uf}`;A.get(`https://brasilapi.com.br/api/cep/v2/${N.cep}`).then(M=>{d({lat:M.data.location.coordinates.latitude,long:M.data.location.coordinates.longitude})},M=>{}),A.get(`https://nominatim.openstreetmap.org/search?q=${y}&limit=1&format=json`).then(M=>{m({lat:M.data[0].lat,long:M.data[0].lon})},M=>{})}n.useEffect(()=>{b!==""&&h!==""&&l(Er(b.lat,b.long,h.lat,h.long))},[b,h]);function Ye(){v(""),d(""),m(""),l(""),k(""),f(""),C(""),K(""),z(""),_(""),B(""),fe(""),Ne(""),Z({}),ve([]),Ee([""]),t({type:"",message:""})}function Qe(y,M){if(y!==void 0)if(y.url!==""){let U=y.url;const Y=[".jpg",".jpeg",".png",".gif"],ea=U.substring(U.lastIndexOf(".")),aa=U.startsWith("http://"),ra=U.startsWith("https://");return!(aa||ra)||!Y.includes(ea)?(t({type:`urlImagemError${M}`,message:"Link de imagem inválido"}),E(!0)):(E(!1),t(""))}else return t({type:`urlImagemError${M}`,message:"Preencha o campo com o link de uma imagem"}),E(!0);else return t({type:`urlImagemError${M}`,message:"Preencha o campo com o link de uma imagem"}),E(!0)}function H(y){switch(y){case"nomePropriedade":if(S==="")return t({type:"nomePropriedadeError",message:"Este campo é obrigatório"});if(S.length<7)return t({type:"nomePropriedadeError",message:"O nome precisa ter mais de 7 letras"});if(S==null||S===null)return t({type:"nomePropriedadeError",message:"Erro ao preencher o formuário. Recarregue a página e tente novamente."});break;case"categoria":if(o===""||o==="Selecione a categoria")return t({type:"categoriaError",message:"Este campo é obrigatório"});if(o==null||o===null)return t({type:"categoriaError",message:"Erro ao preencher o formuário. Recarregue a página e tente novamente."});break;case"cep":if(x==="")return t({type:"cepError",message:"Este campo é obrigatório"});if(x==null)return t({type:"cepError",message:"Erro ao preencher o formuário. Recarregue a página e tente novamente."});break;case"endereco":if(D==="")return t({type:"enderecoError",message:"Este campo é obrigatório"});if(D==null)return t({type:"enderecoError",message:"Erro ao preencher o formuário. Recarregue a página e tente novamente."});break;case"cidadePropriedade":if(O==="")return t({type:"cidadePropriedadeError",message:"Este campo é obrigatório"});if(O==null)return t({type:"cidadePropriedadeError",message:"Erro ao preencher o formuário. Recarregue a página e tente novamente."});break;case"numeroPropriedade":if(R==="")return t({type:"numeroPropriedadeError",message:"Este campo é obrigatório"});if(R==null)return t({type:"numeroPropriedadeError",message:"Erro ao preencher o formuário. Recarregue a página e tente novamente."});break;case"tituloPropriedade":if(g==="")return t({type:"tituloPropriedadeError",message:"Este campo é obrigatório"});if(g==null)return t({type:"tituloPropriedadeError",message:"Erro ao preencher o formuário. Recarregue a página e tente novamente."});break;case"descricao":if(F==="")return t({type:"descricaoError",message:"Este campo é obrigatório"});if(F==null)return t({type:"descricaoError",message:"Erro ao preencher o formuário. Recarregue a página e tente novamente."});break;case"politicasRegra":if(I.regras==="")return t({type:"politicasRegraError",message:"Este campo é obrigatório"});if(I.regras===void 0||I.regras===null)return t({type:"politicasRegraError",message:"Este campo é obrigatório"});break;case"politicasSaude":if(I.saude==="")return t({type:"politicasSaudeError",message:"Este campo é obrigatório"});if(I.saude===void 0||I.saude===null)return t({type:"politicasSaudeError",message:"Este campo é obrigatório"});break;case"politicasCancelamento":if(I.cancelamento==="")return t({type:"politicasCancelamentoError",message:"Este campo é obrigatório"});if(I.cancelamento===void 0||I.cancelamento===null)return t({type:"politicasCancelamentoError",message:"Este campo é obrigatório"});break;default:if(S==="")return t({type:"nomePropriedadeError",message:"Este campo é obrigatório"});if(S.length<7)return t({type:"nomePropriedadeError",message:"O nome precisa ter mais de 7 letras"});if(S==null)return t({type:"nomePropriedadeError",message:"Erro ao preencher o formuário. Recarregue a página e tente novamente."});if(o===""||o==="Selecione a categoria")return t({type:"categoriaError",message:"Este campo é obrigatório"});if(o==null)return t({type:"categoriaError",message:"Erro ao preencher o formuário. Recarregue a página e tente novamente."});if(x==="")return t({type:"cepError",message:"Este campo é obrigatório"});if(x==null)return t({type:"cepError",message:"Erro ao preencher o formuário. Recarregue a página e tente novamente."});if(D==="")return t({type:"enderecoError",message:"Este campo é obrigatório"});if(D==null)return t({type:"enderecoError",message:"Erro ao preencher o formuário. Recarregue a página e tente novamente."});if(O==="")return t({type:"cidadePropriedadeError",message:"Este campo é obrigatório"});if(O==null)return t({type:"cidadePropriedadeError",message:"Erro ao preencher o formuário. Recarregue a página e tente novamente."});if(R==="")return t({type:"numeroPropriedadeError",message:"Este campo é obrigatório"});if(R==null)return t({type:"numeroPropriedadeError",message:"Erro ao preencher o formuário. Recarregue a página e tente novamente."});if(g==="")return t({type:"tituloPropriedadeError",message:"Este campo é obrigatório"});if(g==null)return t({type:"tituloPropriedadeError",message:"Erro ao preencher o formuário. Recarregue a página e tente novamente."});if(F==="")return t({type:"descricaoError",message:"Este campo é obrigatório"});if(F==null)return t({type:"descricaoError",message:"Erro ao preencher o formuário. Recarregue a página e tente novamente."});if(I.regras==="")return t({type:"politicasRegraError",message:"Este campo é obrigatório"});if(I.regras==null||I.regras===null)return t({type:"politicasRegraError",message:"Este campo é obrigatório"});if(I.saude==="")return t({type:"politicasSaudeError",message:"Este campo é obrigatório"});if(I.saude===void 0||I.saude===null)return t({type:"politicasSaudeError",message:"Este campo é obrigatório}"});if(I.cancelamento==="")return t({type:"politicasCancelamentoError",message:"Este campo é obrigatório"});if(I.cancelamento===void 0||I.cancelamento===null)return t({type:"politicasCancelamentoError",message:"Este campo é obrigatório"});if(j.length<=4)return t({type:"urlImagemContainerError",message:"Adicione pelo menos 5 imagens"});if(j.length===0)return t({type:"urlImagemError0",message:"Preencha o campo com o link de uma imagem"});break}return!0}function be(){let y=`${s}/produtos`,M={id:"666",nome:S,descricao:{titulo:g,texto:F},favorito:!1,estrelas:3,avaliacao:5,localizacao:{endereco:`${N.logradouro}, ${R} - ${N.bairro}, ${N.localidade} - ${N.uf}, ${N.cep}`,distancia:parseInt(w),coordenadas:`[${b.lat}, ${b.long}]`,centro:`[${h.lat}, ${h.long}]`},detalhes:{regrasDaCasa:I.regras,politicaDeCancelamento:I.cancelamento,saudeESeguranca:I.saude},imagens:j,caracteristicas:je,cidade:{nome:N.localidade},categoria:{qualificacao:o},reservas:[]};A.defaults.headers.post.Authorization=`Bearer ${p}`,A.post(y,M).then(U=>{J.fire({title:"Sua propriedade foi criada com sucesso!",width:"360",color:"#545776",imageUrl:Ke,focusConfirm:!1,confirmButtonColor:"#1dbeb4",confirmButtonText:"Ok"}).then(Y=>{r("/home"),Ye()})},U=>{if(console.log(U),U.code==="ERR_NETWORK")return toast.error("Infelizmente não foi possivel cadastrar. Por favor, tente novamente mais tarde.")})}function Xe(){if(N.localidade){let y={nome:N.localidade,pais:"Brasil"};A.post(`${s}/cidades`,y).then(M=>{be()},M=>{console.log(M.code)})}else return}function Ze(y){if(y.preventDefault(),!H()||c)return;let M=[];A.get(`${s}/cidades`).then(U=>{U.data.forEach(Y=>Y.nome!==null&&Y.nome!==void 0&&Y.nome==N.localidade?M.push("1"):M.push("2")),M.includes("1")?be():Xe()},U=>{console.log(U.code)})}function Ge(){Ee([...G,""]),t("")}return a("section",{className:"productRegisterContainer",children:[e(V,{loading:u}),a("section",{className:"headerSection",children:[e("div",{className:"headerText",children:e("p",{className:"title h1",children:"Administração"})}),e(T,{to:"/home",children:e(pe,{className:"caretLeftIcon",size:32,color:"#ffffff",weight:"bold"})})]}),a("section",{className:"adminFormSection",children:[e("h1",{className:"h1",children:"Criar propriedade"}),a("form",{className:"propertFormRegister",onSubmit:Ze,children:[a("div",{className:"inputs",children:[e("label",{htmlFor:"nomePropriedade",className:"text-small",children:"Nome da Propriedade"}),e("input",{className:"text-small",type:"text",placeholder:"Hotel Hermínio Fraga",name:"nomePropriedade",id:"nomePropriedade",value:S,onChange:y=>k(y.target.value),onBlur:()=>H("nomePropriedade")}),i.type==="nomePropriedadeError"?e("p",{className:"text-small errorMsg",children:i.message}):"",i.type==="categoriaError"?e("p",{className:"text-small errorMsgSpacing",children:"'"}):""]}),a("div",{className:"inputs",children:[e("label",{htmlFor:"categoria",className:"text-small",children:"Categoria"}),a("select",{name:"categoria",value:o,id:"categoria",className:"selectCategoriaStyle",onChange:y=>C(y.target.value),onBlur:()=>H("categoria"),children:[e("option",{className:"optionStyle",value:"Selecione a categoria",children:"Selecione a categoria"}),e("option",{value:"Hotéis",children:"Hotel"}),e("option",{value:"Hostels",children:"Hostel"}),e("option",{value:"Apartamentos",children:"Apartamento"}),e("option",{value:"Pousadas",children:"Pousada"})]}),i.type==="categoriaError"?e("p",{className:"text-small errorMsg",children:i.message}):"",i.type==="nomePropriedadeError"?e("p",{className:"text-small errorMsgSpacing",children:"'"}):""]}),a("div",{className:"inputs",children:[e("label",{htmlFor:"cep",className:"text-small",children:"Cep"}),e("input",{className:"text-small",type:"text",placeholder:"09121-740",name:"cep",id:"cep",value:x,onChange:y=>K(y.target.value),onBlur:()=>H("cep")}),i.type==="cepError"?e("p",{className:"text-small errorMsg",children:i.message}):"",i.type==="enderecoError"?e("p",{className:"text-small errorMsgSpacing",children:i.message}):""]}),a("div",{className:"inputs",children:[e("label",{htmlFor:"endereco",className:"text-small",children:"Endereço"}),e("input",{className:"text-small",type:"text",placeholder:"Av. dos Guararibes",name:"endereco",id:"endereco",value:D,onChange:y=>z(y.target.value),onBlur:()=>H("endereco")}),i.type==="enderecoError"?e("p",{className:"text-small errorMsg",children:i.message}):"",i.type==="cepError"?e("p",{className:"text-small errorMsgSpacing",children:i.message}):""]}),a("div",{className:"inputs",children:[e("label",{htmlFor:"cidadePropriedade",className:"text-small",children:"Cidade"}),e("input",{className:"text-small",type:"text",placeholder:"Cidade",name:"cidadePropriedade",id:"cidadePropriedade",value:O,onChange:y=>B(y.target.value),onBlur:()=>H("cidadePropriedade")}),i.type==="cidadePropriedadeError"?e("p",{className:"text-small errorMsg",children:i.message}):"",i.type==="numeroPropriedadeError"?e("p",{className:"text-small errorMsgSpacing",children:i.message}):""]}),a("div",{className:"inputs",children:[e("label",{htmlFor:"numeroPropriedade",className:"text-small",children:"Número"}),e("input",{className:"text-small",type:"text",placeholder:"1864",name:"numeroPropriedade",id:"numeroPropriedade",value:R,onChange:y=>_(y.target.value),onBlur:()=>H("numeroPropriedade")}),i.type==="numeroPropriedadeError"?e("p",{className:"text-small errorMsg",children:i.message}):"",i.type==="cidadePropriedadeError"?e("p",{className:"text-small errorMsgSpacing",children:i.message}):""]}),a("div",{className:"inputs tituloDescricao",children:[e("label",{htmlFor:"tituloPropriedade",className:"text-small",children:"Título"}),e("input",{className:"text-small",type:"text",placeholder:"Hospede-se na Pousada Ondas de Copacabana",name:"tituloPropriedade",id:"tituloPropriedade",value:g,onChange:y=>f(y.target.value),onBlur:()=>H("tituloPropriedade")}),i.type==="tituloPropriedadeError"?e("p",{className:"text-small errorMsg",children:i.message}):""]}),a("div",{className:"inputs descricao",children:[e("label",{htmlFor:"descricao",className:"text-small",children:"Descrição"}),e("textarea",{className:"text-small inputText",placeholder:"Escreva aqui",name:"descricao",id:"descricao",value:F,onChange:y=>fe(y.target.value),onBlur:()=>H("descricao"),onFocus:Je}),i.type==="descricaoError"?e("p",{className:"text-small errorMsg",children:i.message}):""]}),e("p",{className:"h2 subTitulos",children:"Adicionar Atributos"}),e("section",{className:"dragAndDrop",children:e(xr,{filteredData:y=>Ne(y)})}),e("p",{className:"h2 subTitulos",children:"Politicas do produto"}),a("div",{className:"politicasContainer",children:[a("div",{className:"inputs politicasDescricao",children:[e("p",{className:"h3",children:"Regras da casa"}),e("label",{htmlFor:"politicasRegra",className:"text-small",children:"Descrição"}),e("textarea",{className:"text-small inputText",placeholder:"Escreva aqui",name:"politicasRegra",id:"politicasRegra",value:I.regras,onChange:y=>Z({...I,regras:y.target.value}),onBlur:()=>H("politicasRegra")}),i.type==="politicasRegraError"?e("p",{className:"text-small errorMsg",children:i.message}):""]}),a("div",{className:"inputs politicasDescricao",children:[e("p",{className:"h3",children:"Saúde e segurança"}),e("label",{htmlFor:"politicasSaude",className:"text-small",children:"Descrição"}),e("textarea",{className:"text-small inputText",placeholder:"Escreva aqui",name:"politicasSaude",id:"politicasSaude",value:I.saude,onChange:y=>Z({...I,saude:y.target.value}),onBlur:()=>H("politicasSaude")}),i.type==="politicasSaudeError"?e("p",{className:"text-small errorMsg",children:i.message}):""]}),a("div",{className:"inputs politicasDescricao",children:[e("p",{className:"h3",children:"Políticas de cancelamento"}),e("label",{htmlFor:"politicasCancelamento",className:"text-small",children:"Descrição"}),e("textarea",{className:"text-small inputText",placeholder:"Escreva aqui",name:"politicasCancelamento",d:"politicasCancelamento",value:I.cancelamento,onChange:y=>Z({...I,cancelamento:y.target.value}),onBlur:()=>H("politicasCancelamento")}),i.type==="politicasCancelamentoError"?e("p",{className:"text-small errorMsg",children:i.message}):""]})]}),e("p",{className:"h2 subTitulos",children:"Carregar imagens"}),a("section",{className:"uploadImageSection",children:[G&&G.map((y,M)=>a("div",{children:[a("div",{className:"inputs addImageSection",children:[e("input",{className:"text-small",type:"text",placeholder:"Insira https://...",name:"urlImagem",onChange:U=>ve(Object.values({...j,[M]:{url:U.target.value}})),onBlur:()=>{Qe(j[M],M)}}),e("button",{type:"button",className:"addFild",onClick:Ge,disabled:c||!(G.length-2<M)||j[M]===void 0||j.length===0,children:e(Ea,{className:"plusIcon",color:"#ffffff",weight:"bold"})})]}),i.type===`urlImagemError${M}`?e("p",{className:"text-small errorMsg",children:i.message}):""]},M)),i.type==="urlImagemContainerError"?e("p",{className:"text-small errorMsg",children:i.message}):""]}),e("button",{type:"submit",className:"btnAdmin",children:"Cadastrar"})]})]})]})}const kr="/assets/confused-cat-658a2ec0.gif";function Dr(){const[r,s]=n.useState(""),[p,u]=n.useState(!1),{urlBase:c,auth:E,user:i,loading:t}=$();n.useEffect(()=>{N()},[]);function N(){A.defaults.headers.get.Authorization=`Bearer ${E}`,A.get(`${c}/reservas/usuario/${i.id}`).then(d=>{s(d.data),u(!0)},d=>{if(d.code==="ERR_NETWORK")return P.error("Ocorreu um erro, por favor recarregue a página.");P.error("Ocorreu um erro, por favor recarregue a página!"),u(!1)})}function v(d){J.fire({title:"Deseja realmente cancelar a sua reserva?",width:"360",color:"#545776",icon:"question",focusCancel:!0,showCancelButton:!0,confirmButtonText:"Sim",cancelButtonText:"Não",reverseButtons:!0}).then(h=>{if(h.isConfirmed)A.defaults.headers.delete.Authorization=`Bearer ${E}`,A.delete(`${c}/reservas/${d}`).then(m=>{u(!0),N(),P.success("Reserva cancelada com sucesso!")},m=>{if(m.code==="ERR_NETWORK")return P.error("Ocorreu um erro, por favor recarregue a página.")});else return})}function b(d){const[h,m,w]=d.split("-");return`${w}/${m}/${h}`}return a("section",{className:"userBookingsSection",children:[e(V,{loading:t}),a("section",{className:"headerSection",children:[e("div",{className:"headerText",children:e("p",{className:"h2",children:" Reservas feitas"})}),e(T,{to:"/home",children:e(pe,{className:"caretLeftIcon",size:32,color:"#ffffff",weight:"bold"})})]}),p&&e(q,{children:r&&r.length!==0?e("section",{className:"tableSection",children:a("table",{children:[e("thead",{children:a("tr",{children:[e("th",{children:"Hotel"}),e("th",{children:"Data de entrada"}),e("th",{children:"Data de saída"}),e("th",{children:"Check-in"}),e("th",{children:"Ação"})]})}),e("tbody",{children:r&&r.reverse().map((d,h)=>a("tr",{children:[e("td",{children:e(T,{to:`/product/${d.produto.id}`,className:"nomeProduto",children:d.produto.nome})}),e("td",{className:"horasStyle",children:b(d.dataInicial)}),e("td",{className:"horasStyle",children:b(d.dataFinal)}),e("td",{className:"horasStyle",children:d.hora.slice(0,-3)}),e("td",{className:"lixeira",onClick:()=>{v(d.id)},children:e(ba,{size:18,color:"var(--red-error)",className:"lixeiraIcone"})})]},h))})]})}):a("section",{className:"noBookingsSection",children:[e("p",{className:"sadText",children:"Sem reservas!"}),e("img",{src:kr}),a("p",{className:"text-normal",children:[" ",e(T,{to:"/home",children:"Clique aqui"})," e comece agora fazendo uma reserva!"]})]})})]})}const zr=na.createRoot(document.getElementById("root"));function W(){let r=da();return console.error(r),e("p",{children:"Ocorreu um problema ao carregar, recarregue a página "})}const Mr=sa([{path:"",element:e(cr,{}),errorElement:e(W,{}),children:[{path:"",loader:()=>se("/home"),errorElement:e(W,{})},{path:"/",loader:()=>se("/home"),errorElement:e(W,{})},{path:"*",loader:()=>se("https://http.cat/404"),errorElement:e(W,{})},{path:"administrador",element:a(ee,{redirectPath:"/home",msg:"Você precisa estar logado para acessar essa área!",children:[e(Pr,{}),","]}),errorElement:e(W,{})},{path:"home",element:e(mr,{}),errorElement:e(W,{})},{path:"login",element:e(pr,{}),errorElement:e(W,{})},{path:"createUser",element:e(ze,{}),errorElement:e(W,{})},{path:"reservas",element:a(ee,{redirectPath:"/home",msg:"Você precisa estar logado para ver a suas reservas!",children:[e(Dr,{}),","]}),errorElement:e(W,{})},{path:"product",element:e(hr,{}),errorElement:e(W,{}),children:[{path:":id",element:e(vr,{}),errorElement:e(W,{})},{path:":id/booking",element:a(ee,{redirectPath:"/login",msg:"Você precisa estar logado para fazer uma reserva!",children:[e(fr,{}),","]}),errorElement:e(W,{})}]},{path:"rotaProtegida",element:e(ee,{redirectPath:"/home",msg:"Acesso negado",type:"toast",children:e(ze,{})}),errorElement:e(W,{})}]}]);zr.render(e(sr,{children:e(ca,{router:Mr})}));
